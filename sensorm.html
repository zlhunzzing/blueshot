<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>GeoAR.js demo</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  </head>

  <body style="margin: 0; overflow: hidden;">
    <div id="coords"></div>
    <!-- <a-scene
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
    >
      <a-text
        value="HOME2"
        scale="120 120 120"
        gps-entity-place="latitude: 36.8115712; longitude: 127.156224;"
      ></a-text>
      <a-text
      id="a"
        value="SHOP"
        scale="120 120 120"
        gps-entity-place="latitude: 36.8053826; longitude: 127.157783;"
      ></a-text>
      <a-camera gps-camera rotation-reader maxDistance="100000"> </a-camera>
    </a-scene> -->

  </body>
  <script>
    console.log(
    document.featurePolicy.Magnetometer
    
    )
    const coords = document.getElementById('coords');
    navigator.permissions.query({ name: "magnetometer" })
    .then(results => {
      if (result => result.state === "granted") {
        const options = { frequency: 60, referenceFrame: 'device' };
        let sensor = new Magnetometer
        console.log("?", sensor)
        sensor.start();
        sensor.onreading = () => {
          console.log("?")
          coords.innerHTML = sensor.x + "/" + sensor.y + "/" + sensor.z
        }
      } else {
        console.log("No permissions to use AbsoluteOrientationSensor.");
      }
    });
  </script>
</html>
